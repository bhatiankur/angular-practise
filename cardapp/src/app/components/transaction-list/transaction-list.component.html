<div id="transaction-list" class="mt-3 container container-sm-bigger">
  <div class="header row">
      <div class="col-2"><b class="ml-md-2">Date</b></div>
      <div class="col-4"><b>Description</b></div>
      <div class="col-2"><b>Amount</b></div>
      <div class="col-2"><b>Fee</b></div>
      <div class="col-2"><b>Balance</b></div>
  </div>
  <div class="transaction"  *ngFor="let transaction of transactionList; let $index=index">
        <div class="info row" [ngClass]="{'active' : $index == currRow, 'pending' : transaction.posted == false}"  (click)="currRow = currRow == $index ? -1 : $index">
          <div class="col-2 date">
            <ng-container *ngIf="transaction.posted == true">
              <b>{{(transaction.transactionDateTime)| date: 'MMM'}}</b><br><h4>{{transaction.transactionDateTime | date: 'd'}}</h4>
            </ng-container>
            <ng-container *ngIf="transaction.posted == false ">
              <i class="fa fa-info-circle"></i> <b>PROCESSING</b>
            </ng-container>
          </div>
          <div class="col-4"><span><b>{{transaction.typeName}}</b></span><br>{{transaction?.description}}</div>
          <div class="col-2"><b><currency [amount]="transaction.amount"></currency></b></div>
          <div class="col-2"><currency [amount]="transaction.fee"></currency></div>
          <div class="col-2"><currency [amount]="transaction.balance"></currency></div>
        </div>

        <div [ngbCollapse]="$index != currRow"  class="collapse extra-info row">
          <div class="col-8 offset-2 py-3">
            <div class="row my-1">
              <div class="col-3"><b>Date Purchased</b></div>
              <div class="col-9">{{transaction.transactionDateTime | date: 'fullDate'}}</div>
            </div>
            <div class="row my-1">
              <div class="col-3"><b>Time Purchased</b></div>
              <div class="col-9">{{transaction.transactionDateTime | date: 'shortTime'}}</div>
            </div>
            <div class="row mt-3 mb-1" *ngIf="transaction.posted == false">
              <div class="col-3"><b>Why is this processing?</b></div>
              <div class="col-9">Transactions are usually processed within 3 to 5 business days, but can take longer. For pre-authorisations it can take up to 31 days. While pending, theyâ€™ll be deducted from your available funds.</div>
            </div>
          </div>
        </div>
  </div>
</div>
