<div class="container">
    <form [formGroup]="paymentForm" novalidate>

    <app-payment-from [inputModel]="initialFromAccountModel" (changes)="onPaymentFromChange($event)"></app-payment-from>


    <div class="row justify-content-center">
      <div class="col-3">
        <h3>Testtt</h3>
      </div>
      <div class="col-3">
        <typeahead-person-selector (accountSelected)="accountSelected($event)"></typeahead-person-selector>
      </div>
    </div>

    <new-payee class="row" (changes)="onNewAccountChange($event)"></new-payee>


    <button type="submit" class="btn btn-success" [disabled]="(!(fromAccountModel.modelIsValid) && !(fromAccountModel.modelIsValid && newAccount?.valid))">Cancel</button>
    <button type="submit" class="btn btn-success" [disabled]="(!(fromAccountModel.modelIsValid) && !(fromAccountModel.modelIsValid && newAccount?.valid))">Next</button>

  </form>

  <hr>
  <pre>fromAccount(valid): {{ fromAccountModel.modelIsValid}}</pre>
  <pre>toExistingAccount(valid)</pre>
  <pre>toNewAccount (valid / type): {{ newAccount?.valid}} {{ newAccount?.destinationType}}</pre>

  <hr>
  <div>
    <h3>When</h3>
    <form class="w-50" [formGroup]="paymentWhenGroup">
      <app-toggle-buttons formControlName="when">
        <app-toggle-buttons-item value="now" text="Now">
        </app-toggle-buttons-item>

        <app-toggle-buttons-item formGroupName="later" value="later" text="Later">
          <app-date-picker formControlName="date" placeholder="Date"></app-date-picker>
        </app-toggle-buttons-item>

        <app-toggle-buttons-item value="ongoing" text="Ongoing" formGroupName="ongoing">
          <label class="col-form-label mr-1" for="frequency">Frequency</label>
          <select id="frequency" class="form-control" formControlName="frequency">
            <option value="f1">f1</option>
            <option value="f2">f2</option>
            <option value="f3">f3</option>
          </select>
          <label class="col-form-label mr-1" for="start">Start</label>
          <app-date-picker formControlName="start" placeholder="Start"></app-date-picker>
          <label class="col-form-label mr-1">End</label>

          <app-toggle-buttons formControlName="end">
            <app-toggle-buttons-item value="never" text="Never">
            </app-toggle-buttons-item>

            <app-toggle-buttons-item value="payments" text="Payments">
              <br><input type="number" formControlName="payments"> payment/s
            </app-toggle-buttons-item>

            <app-toggle-buttons-item value="date" text="Date">
              <app-date-picker formControlName="date" placeholder="Date"></app-date-picker>
            </app-toggle-buttons-item>
          </app-toggle-buttons>
        </app-toggle-buttons-item>

      </app-toggle-buttons>
    </form>
    <br><h6>{{paymentWhenGroup.value | json}}</h6>
    <br><br><br><br><br><br><br><br>
  </div>

</div>
